<!DOCTYPE html>
<html lang="fr">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Contact | Reda</title>
Â  Â  
Â  Â  <link rel="stylesheet" href="css/contact.css">
Â  Â  <link rel="stylesheet" href="css/header.css">
Â  Â  <link rel="stylesheet" href="css/mobile.css">
Â 
</head>
<body>

Â  Â  Â  Â  Â  Â  Â  Â  <!-- Navbar -->
Â  Â  <div id="header"></div> Â  Â  Â  


Â  Â  <div class="container">
Â  Â  Â  Â  <span class="badge">Contact</span>
Â  Â  Â  Â  <h1>On discute ?</h1>
Â  Â  Â  Â  <p>Un projet, une question ou juste pour dire bonjour. Je te rÃ©ponds vite !</p>

Â  Â  Â  Â  <form id="contact-form" class="contact-form">
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="name">Ton Nom</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="name" required placeholder="Votre nom complet">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="email">Ton Email</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="email" id="email" required placeholder="Example@gmail.com">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="message">Ton Message</label>
Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="message" required placeholder="...."></textarea>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <button type="submit" class="btn-submit">Envoyer le message ğŸš€</button>
Â  Â  Â  Â  </form>

Â  Â  Â  Â  <p id="feedback"></p>

Â  Â  Â  Â  <div class="button-container">
Â  Â  Â  Â  Â  Â  <a href="index.html" class="btn-retour">â† Retour Ã  l'accueil</a>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  document.getElementById('contact-form').addEventListener('submit', async function(e) {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const btn = document.querySelector('.btn-submit');
Â  Â  Â  Â  Â  Â  const feedback = document.getElementById('feedback');
Â  Â  Â  Â  Â  Â  const originalBtnText = btn.innerText;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  btn.innerText = "Envoi en cours...";
Â  Â  Â  Â  Â  Â  btn.disabled = true;
Â  Â  Â  Â  Â  Â  feedback.innerText = ""; // Reset feedback
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const formData = {
Â  Â  Â  Â  Â  Â  Â  Â  name: document.getElementById('name').value,
Â  Â  Â  Â  Â  Â  Â  Â  email: document.getElementById('email').value,
Â  Â  Â  Â  Â  Â  Â  Â  message: document.getElementById('message').value
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch('/api/send-mail', {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify(formData)
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  if (response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  feedback.innerText = "Message envoyÃ© avec succÃ¨s ! Merci ğŸš€";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  feedback.style.color = "#4ade80";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.reset();
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('Erreur API');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error(error);
Â  Â  Â  Â  Â  Â  Â  Â  feedback.innerText = "Oups, une erreur est survenue. RÃ©essaie plus tard.";
Â  Â  Â  Â  Â  Â  Â  Â  feedback.style.color = "#f87171";
Â  Â  Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  Â  Â  Â  btn.innerText = originalBtnText;
Â  Â  Â  Â  Â  Â  Â  Â  btn.disabled = false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  </script>
Â  Â  <script src="java/header.js"></script>
</body>
</html>

